entities:
  city-of-chicago:
    name: "City of Chicago"
    entity_type: "city"
    status: "active"
    default_year: "fy2025"
    fiscal_year_start_month: 1  # January
    fiscal_year_start_day: 1
    property_tax_share_pct: 24.0
    color: "#0051A5"  # Chicago flag blue

    socrata:
      domain: "data.cityofchicago.org"
      datasets:
        fy2025:
          appropriations: "t59y-fr3k"  # Budget - 2025 Budget Ordinance - Appropriations
          revenue: "e5cq-t86i"  # Budget - 2025 Budget Ordinance - Revenue
        fy2024:
          appropriations: "x394-e874"  # Budget - 2024 Budget Ordinance - Appropriations
          revenue: "rmi8-cugu"  # Budget - 2024 Budget Ordinance - Revenue
        fy2023:
          appropriations: "3kky-uezs"  # Budget - 2023 Budget Ordinance - Appropriations

    transform:
      department_column: "department_description"
      department_code_column: "department_number"
      fund_type_column: "fund_type"
      fund_code_column: "fund_code"
      fund_description_column: "fund_description"
      appropriation_authority_column: "appropriation_authority"
      appropriation_account_column: "appropriation_account"
      appropriation_account_description_column: "appropriation_account_description"

      # Department name normalization
      acronyms:
        oemc: "OEMC"
        bacp: "BACP"
        cdot: "CDOT"
        doit: "DoIT"
        copa: "COPA"
        ipra: "IPRA"

      # Simulation constraints
      non_adjustable_departments:
        - "FINANCE GENERAL"

      grant_funded_threshold: 0.9  # Departments >90% grant-funded get tighter constraints

      # Interfund transfer fund codes (to calculate net total)
      interfund_transfer_codes:
        - "0900"

      # Fund categorization for budget totals (City of Chicago specific)
      # Other entities (CPS, Park District) will define their own categories
      fund_categories:
        # Enterprise/airport funds (self-funded, excluded from operating budget)
        enterprise:
          - "Chicago O'Hare Airport Fund"
          - "Chicago Midway Airport Fund"

        # Pension/Annuity funds
        pension:
          - "Policemen's Annuity and Benefit Fund"
          - "Municipal Employees' Annuity and Benefit Fund"
          - "Firemen's Annuity and Benefit Fund"
          - "Laborers' and Retirement Board Annuity and Benefit Fund"

        # Debt service funds
        debt:
          - "Bond Redemption and Interest*"
          - "Library Note Redemption*"

        # Grant funds (pattern match)
        grant:
          - "*Grant*"

        # All other funds default to "operating" (Corporate Fund, Water, Sewer,
        # Vehicle Tax, Library, special revenue funds, etc.)

      # Funds to EXCLUDE from operating_appropriations (the headline budget number).
      # For Chicago, this is only airport funds (~$2.3B) since the city's reported
      # operating budget (~$16.6B) includes pensions, grants, debt, water, sewer.
      non_operating_funds:
        - "Chicago O'Hare Airport Fund"
        - "Chicago Midway Airport Fund"

      # Revenue source categorization (maps raw source names to user-friendly categories)
      revenue_categories:
        property_tax:
          - "Property Tax"
          - "Tax Levy"
        sales_tax:
          - "Sales Tax"
        state_sharing:
          - "State Income Tax"
          - "Use Tax"
          - "Personal Property Replacement Tax"
        utility_tax:
          - "Electricity Tax"
          - "Gas Tax"
          - "Telecommunications Tax"
          - "Utility Tax"
        transaction_tax:
          - "Personal Property Lease Transaction Tax"
          - "Real Estate Transfer Tax"
          - "Amusement Tax"
          - "Transaction Tax"
        transportation_tax:
          - "Ground Transportation Tax"
          - "Parking Tax"
          - "Chicago Casino Tax"
          - "Transportation Tax"
        fines_forfeitures:
          - "Fines"
          - "Forfeitures"
          - "Penalties"
          - "Red Light Camera"
          - "Parking Fines"
        licenses_permits:
          - "Licenses"
          - "Permits"
          - "Building Permits"
          - "Business Licenses"
        charges_for_services:
          - "Charges for Services"
          - "Water"
          - "Sewer"
          - "Airport"
          - "Concession"
        debt_proceeds:
          - "Proceeds from Debt"
          - "Bond Proceeds"
        tif:
          - "TIF"
          - "Tax Increment"

      # Column mappings for revenue dataset
      revenue_columns:
        source_column: "revenue_source"
        fund_column: "fund_name"

  # Future entities (coming soon)
  chicago-public-schools:
    name: "Chicago Public Schools"
    entity_type: "school_district"
    status: "coming_soon"
    property_tax_share_pct: 52.0
    color: "#CE1126"

  chicago-park-district:
    name: "Chicago Park District"
    entity_type: "special_district"
    status: "coming_soon"
    property_tax_share_pct: 8.0
    color: "#2E7D32"

  chicago-transit-authority:
    name: "Chicago Transit Authority"
    entity_type: "transit_authority"
    status: "coming_soon"
    property_tax_share_pct: 0
    color: "#0066B3"

  chicago-city-colleges:
    name: "City Colleges of Chicago"
    entity_type: "community_college"
    status: "coming_soon"
    property_tax_share_pct: 6.0
    color: "#FF6F00"
